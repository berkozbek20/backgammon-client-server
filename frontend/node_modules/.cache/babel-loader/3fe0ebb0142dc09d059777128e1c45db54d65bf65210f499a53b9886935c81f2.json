{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MeshSurfaceSampler } from 'three-stdlib';\nimport { InstancedBufferAttribute, Vector3, Color, Object3D } from 'three';\nfunction useSurfaceSampler(mesh, count = 16, transform, weight, instanceMesh) {\n  _s();\n  const [buffer, setBuffer] = React.useState(() => {\n    const arr = Array.from({\n      length: count\n    }, () => [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]).flat();\n    return new InstancedBufferAttribute(Float32Array.from(arr), 16);\n  });\n  React.useLayoutEffect(() => {\n    if (typeof mesh.current === 'undefined') return;\n    const sampler = new MeshSurfaceSampler(mesh.current);\n    if (weight) {\n      sampler.setWeightAttribute(weight);\n    }\n    sampler.build();\n    const position = new Vector3();\n    const normal = new Vector3();\n    const color = new Color();\n    const dummy = new Object3D();\n    mesh.current.updateMatrixWorld(true);\n    for (let i = 0; i < count; i++) {\n      sampler.sample(position, normal, color);\n      if (typeof transform === 'function') {\n        transform({\n          dummy,\n          sampledMesh: mesh.current,\n          position,\n          normal,\n          color\n        }, i);\n      } else {\n        dummy.position.copy(position);\n      }\n      dummy.updateMatrix();\n      if (instanceMesh != null && instanceMesh.current) {\n        instanceMesh.current.setMatrixAt(i, dummy.matrix);\n      }\n      dummy.matrix.toArray(buffer.array, i * 16);\n    }\n    if (instanceMesh != null && instanceMesh.current) {\n      instanceMesh.current.instanceMatrix.needsUpdate = true;\n    }\n    buffer.needsUpdate = true;\n    setBuffer(new InstancedBufferAttribute(buffer.array, buffer.itemSize).copy(buffer));\n  }, [mesh, instanceMesh, weight, count, transform]);\n  return buffer;\n}\n_s(useSurfaceSampler, \"N8GfZcPGOy1uyNcHaG2vAfpXWVU=\");\nfunction Sampler({\n  children,\n  weight,\n  transform,\n  instances,\n  mesh,\n  count = 16,\n  ...props\n}) {\n  _s2();\n  const group = React.useRef(null);\n  const instancedRef = React.useRef(null);\n  const meshToSampleRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    var _instances$current, _mesh$current;\n    instancedRef.current = (_instances$current = instances == null ? void 0 : instances.current) !== null && _instances$current !== void 0 ? _instances$current : group.current.children.find(c => c.hasOwnProperty('instanceMatrix'));\n    meshToSampleRef.current = (_mesh$current = mesh == null ? void 0 : mesh.current) !== null && _mesh$current !== void 0 ? _mesh$current : group.current.children.find(c => c.type === 'Mesh');\n  }, [children, mesh == null ? void 0 : mesh.current, instances == null ? void 0 : instances.current]);\n  useSurfaceSampler(meshToSampleRef, count, transform, weight, instancedRef);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props), children);\n}\n_s2(Sampler, \"c/wig29HsGNV98Li7lwNGs6RxA8=\", false, function () {\n  return [useSurfaceSampler];\n});\n_c = Sampler;\nexport { Sampler, useSurfaceSampler };\nvar _c;\n$RefreshReg$(_c, \"Sampler\");","map":{"version":3,"names":["_extends","React","MeshSurfaceSampler","InstancedBufferAttribute","Vector3","Color","Object3D","useSurfaceSampler","mesh","count","transform","weight","instanceMesh","_s","buffer","setBuffer","useState","arr","Array","from","length","flat","Float32Array","useLayoutEffect","current","sampler","setWeightAttribute","build","position","normal","color","dummy","updateMatrixWorld","i","sample","sampledMesh","copy","updateMatrix","setMatrixAt","matrix","toArray","array","instanceMatrix","needsUpdate","itemSize","Sampler","children","instances","props","_s2","group","useRef","instancedRef","meshToSampleRef","_instances$current","_mesh$current","find","c","hasOwnProperty","type","createElement","ref","_c","$RefreshReg$"],"sources":["C:/Users/11/Desktop/Yeni klasÃ¶r/backgammon-client-server/src/node_modules/@react-three/drei/core/Sampler.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MeshSurfaceSampler } from 'three-stdlib';\nimport { InstancedBufferAttribute, Vector3, Color, Object3D } from 'three';\n\nfunction useSurfaceSampler(mesh, count = 16, transform, weight, instanceMesh) {\n  const [buffer, setBuffer] = React.useState(() => {\n    const arr = Array.from({\n      length: count\n    }, () => [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]).flat();\n    return new InstancedBufferAttribute(Float32Array.from(arr), 16);\n  });\n  React.useLayoutEffect(() => {\n    if (typeof mesh.current === 'undefined') return;\n    const sampler = new MeshSurfaceSampler(mesh.current);\n    if (weight) {\n      sampler.setWeightAttribute(weight);\n    }\n    sampler.build();\n    const position = new Vector3();\n    const normal = new Vector3();\n    const color = new Color();\n    const dummy = new Object3D();\n    mesh.current.updateMatrixWorld(true);\n    for (let i = 0; i < count; i++) {\n      sampler.sample(position, normal, color);\n      if (typeof transform === 'function') {\n        transform({\n          dummy,\n          sampledMesh: mesh.current,\n          position,\n          normal,\n          color\n        }, i);\n      } else {\n        dummy.position.copy(position);\n      }\n      dummy.updateMatrix();\n      if (instanceMesh != null && instanceMesh.current) {\n        instanceMesh.current.setMatrixAt(i, dummy.matrix);\n      }\n      dummy.matrix.toArray(buffer.array, i * 16);\n    }\n    if (instanceMesh != null && instanceMesh.current) {\n      instanceMesh.current.instanceMatrix.needsUpdate = true;\n    }\n    buffer.needsUpdate = true;\n    setBuffer(new InstancedBufferAttribute(buffer.array, buffer.itemSize).copy(buffer));\n  }, [mesh, instanceMesh, weight, count, transform]);\n  return buffer;\n}\nfunction Sampler({\n  children,\n  weight,\n  transform,\n  instances,\n  mesh,\n  count = 16,\n  ...props\n}) {\n  const group = React.useRef(null);\n  const instancedRef = React.useRef(null);\n  const meshToSampleRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    var _instances$current, _mesh$current;\n    instancedRef.current = (_instances$current = instances == null ? void 0 : instances.current) !== null && _instances$current !== void 0 ? _instances$current : group.current.children.find(c => c.hasOwnProperty('instanceMatrix'));\n    meshToSampleRef.current = (_mesh$current = mesh == null ? void 0 : mesh.current) !== null && _mesh$current !== void 0 ? _mesh$current : group.current.children.find(c => c.type === 'Mesh');\n  }, [children, mesh == null ? void 0 : mesh.current, instances == null ? void 0 : instances.current]);\n  useSurfaceSampler(meshToSampleRef, count, transform, weight, instancedRef);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props), children);\n}\n\nexport { Sampler, useSurfaceSampler };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}